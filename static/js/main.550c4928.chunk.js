(this["webpackJsonpclear-news"]=this["webpackJsonpclear-news"]||[]).push([[0],{31:function(e,t,a){e.exports=a.p+"static/media/hero.71855628.jpg"},32:function(e,t,a){e.exports=a.p+"static/media/hero.71855628.webp"},38:function(e,t,a){e.exports=a(55)},43:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(28),s=a.n(c),i=(a(43),a(4)),l=a(5),o=a(7),m=a(6),u=a(8),p=(a(44),r.a.createContext(null)),h=function(e){return function(t){return r.a.createElement(p.Consumer,null,(function(a){return r.a.createElement(e,Object.assign({},t,{firebase:a}))}))}},d=p,f=a(17),v=a.n(f),E=(a(45),a(47),{apiKey:"AIzaSyAgnKAdG6eUpbVAIBRu-MUvKI2rLH6dvC4",authDomain:"clearnews.firebaseapp.com",databaseURL:"https://clearnews.firebaseio.com",projectId:"clearnews",storageBucket:"",messagingSenderId:"717069418371",appId:"1:717069418371:web:d30ccfbc62281864"}),g=function e(){var t=this;Object(i.a)(this,e),this.doSignInWithEmailAndPassword=function(e,a){return t.auth.signInWithEmailAndPassword(e,a)},this.doSignOut=function(){return t.auth.signOut()},this.articles=function(){return t.db.ref("articles")},this.getArticles=function(e){return t.db.ref("articles").limitToFirst(e)},this.getTextArticles=function(e){return t.db.ref("text-articles").limitToFirst(e)},this.addArticle=function(e){return t.db.ref("articles").push().set(e)},v.a.initializeApp(E),this.auth=v.a.auth(),this.db=v.a.database()},b=a(14),N=a(12),_="/",k="/category";function y(){return r.a.createElement("div",{className:"logo"},r.a.createElement("div",{className:"logo__dot"}),r.a.createElement("span",{className:"logo__big"},"Clear"),r.a.createElement("span",{className:"logo__small"},"news"))}function w(){return r.a.createElement("div",null,r.a.createElement("ul",{className:"social-icons-list"},["fa-facebook-f","fa-instagram","fa-twitter","fa-google"].map((function(e,t){return r.a.createElement("li",{key:t,className:"social-icons-list__icon"},r.a.createElement("a",{href:"#"},r.a.createElement("i",{className:"fab ".concat(e)})))}))))}var O=function(e){var t=e.links,a=e.activeSite,n=e.setActiveSite;return r.a.createElement("ul",{className:"links-list"},t.map((function(e,t){var c=e.name,s=e.link;return r.a.createElement("li",{key:t,className:"links-list__item"+(a===c?" links-list__item--active":""),onClick:function(){return n(c)}},r.a.createElement(b.b,{to:s,className:"links-list__link"},c))})))};function j(e){var t=e.links;return r.a.createElement("nav",{className:"header-links-wrapper"},r.a.createElement(O,{links:t}),r.a.createElement(w,null))}var A=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={links:[{name:"Home",link:"/"},{name:"Culture",link:k+"/culture"},{name:"Entertainment",link:k+"/entertainment"},{name:"Politics",link:"#"},{name:"Sports",link:"#"},{name:"Worldwide",link:"#"},{name:"Innovation",link:"#"},{name:"Education",link:"#"}],activeSite:"Home"},a.setActiveSite=function(e){a.setState({activeSite:e})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.links,a=e.activeSite;return r.a.createElement("nav",{className:"menu-wrapper"},r.a.createElement(O,{links:t,activeSite:a,setActiveSite:this.setActiveSite}))}}]),t}(n.Component);function S(e){var t=e.links;return r.a.createElement("nav",{className:"footer-links-wrapper"},r.a.createElement(O,{links:t}),r.a.createElement("div",{className:"footer__copyright"},"Copyright ",r.a.createElement("span",{className:"footer__copyright-sign"},"\xa9")," 2019 Clear News."))}var C=a(31),x=a.n(C),M=a(32),I=a.n(M);function U(){return r.a.createElement("div",{className:"hero-container"},r.a.createElement("picture",null,r.a.createElement("source",{type:"image/webp",srcSet:I.a}),r.a.createElement("img",{src:x.a,alt:"featured article"})),r.a.createElement("div",{className:"hero-title"},r.a.createElement("span",{className:"hero-title__author"},"By Clark Kent"),r.a.createElement("h2",{className:"hero-title__title"},"Ladies others the six desire age. Bred am soon park past read by lain. As excuse eldest no moment.")))}function L(e){return r.a.createElement("section",{className:"section"},r.a.createElement("h2",{className:"section__header"},e.header),e.children)}function R(e){var t=e.addedClass,a=e.author,n=e.commentsAmount,c=e.date;return r.a.createElement("div",{className:"".concat(t," info")},r.a.createElement("span",{className:"info__author"},"By ",a),r.a.createElement("span",{className:"info__comments"},n," comments"),r.a.createElement("span",{className:"info__date"},c))}function H(e){var t=e.article,a=t.img,n=t.imgAlt,c=t.title,s=t.author,i=t.commentsAmount,l=t.date;return r.a.createElement("article",{className:"article"},r.a.createElement("div",{className:"article__image-wrapper"},r.a.createElement("img",{className:"article__image",src:a,alt:n})),r.a.createElement("h3",{className:"article__title"},c),r.a.createElement(R,{className:"article__info",author:s,date:l,commentsAmount:i}))}var W=h(function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={articles:{}},a.handleClick=function(){a.props.firebase.addArticle({img:"https://source.unsplash.com/random/?telephone",imgAlt:"img alt4",title:"Tytu\u0142 artyku\u0142u dodanego z kodu!",author:"React Firebase",commentsAmount:11,date:"16 Jan 2013"})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.firebase.getArticles(this.props.number).on("value",(function(t){e.setState({articles:t.val()})}))}},{key:"render",value:function(){var e=this.state.articles;return r.a.createElement("div",{className:this.props.className},e&&Object.values(e).map((function(e,t){return r.a.createElement(H,{key:t,article:e})})))}}]),t}(n.Component)),B=a(33),D=a.n(B);function P(e){return r.a.createElement("h2",{className:"title ".concat(e.className)},e.text)}var T=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={images:[{id:1,url:"https://source.unsplash.com/random/?social",alt:"random img"},{id:2,url:"https://source.unsplash.com/random/?school",alt:"random img"},{id:3,url:"https://source.unsplash.com/random/?peace",alt:"random img"}],currImg:0},a.picturesRef=r.a.createRef(),a.swipeHandler=function(e){var t=e.detail.directions,n=t.left,r=t.right,c=a.state.currImg,s=a.state.images.length-1,i=0;n?i=c+1>s?s:c+1:r&&(i=c-1<0?0:c-1),a.setState({currImg:i})},a.componentDidMount=function(){D()(a.picturesRef.current),a.picturesRef.current.addEventListener("swipe",a.swipeHandler)},a.componentWillUnmount=function(){a.picturesRef.current.removeEventListener("swipe",a.swipeHandler)},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.images,a=e.currImg,n=t.length,c={transform:"translateX(calc(-".concat(100/n*a,"% - ").concat(10*a,"px))")};return r.a.createElement("section",{className:"gallery"},r.a.createElement(P,{className:"gallery__title",text:"In pictures"}),r.a.createElement("div",{className:"pictures"},r.a.createElement("div",{ref:this.picturesRef,className:"pictures__wrapper",style:c},this.state.images.map((function(e){return r.a.createElement("picture",{key:e.id,className:"pictures__item"},r.a.createElement("i",{className:"pictures__item-icon far fa-image"}),r.a.createElement("img",{className:"pictures__image",src:e.url,alt:e.alt}))})))))}}]),t}(n.Component);function F(e){var t=e.article,a=t.title,n=t.text,c=t.author,s=t.commentsAmount,i=t.date;return r.a.createElement("article",{className:"text-article"},r.a.createElement("h3",{className:"text-article__title"},a),r.a.createElement("p",{className:"text-article__text"},n),r.a.createElement(R,{className:"text-article__info",author:c,date:i,commentsAmount:s}))}var z=h(function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={articles:{}},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.firebase.getTextArticles(this.props.number).on("value",(function(t){e.setState({articles:t.val()})}))}},{key:"render",value:function(){var e=this.state.articles;return r.a.createElement("div",{className:this.props.className},e&&Object.values(e).map((function(e,t){return r.a.createElement(F,{key:t,article:e})})))}}]),t}(n.Component)),K=6,J=4,G=3;function V(){return r.a.createElement("div",{className:"main-page"},r.a.createElement(y,null),r.a.createElement(U,null),r.a.createElement(L,{className:"latest-stories",header:"Latest Stories"},r.a.createElement(W,{className:"latest-stories__stories",number:K})),r.a.createElement(T,null),r.a.createElement("div",{className:"two-column-section"},r.a.createElement(L,{className:"category",header:"Economy"},r.a.createElement(W,{className:"category__stories",number:J})),r.a.createElement(L,{className:"side-category",header:"Healt"},r.a.createElement(z,{className:"text-category__stories",number:G}))),r.a.createElement(y,null))}var X=a(34),$=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",error:null},a.handleChange=function(e){a.setState(Object(X.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.email,r=t.password;a.props.firebase.doSignInWithEmailAndPassword(n,r).then((function(e){console.log("authorized!",e),a.props.history.push(_)})).catch((function(e){console.log("error!",e),a.setState({error:e})}))},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.error,c=""===t||""===a;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"login-wrapper"},r.a.createElement("h2",{className:"title"},"Log in"),r.a.createElement("form",{className:"form",onSubmit:this.handleSubmit},r.a.createElement("input",{type:"email",name:"email",value:t,className:"form__input",placeholder:"e-mail",onChange:this.handleChange}),r.a.createElement("input",{type:"password",name:"password",value:a,className:"form__input",placeholder:"password",onChange:this.handleChange}),r.a.createElement("input",{type:"submit",className:"form__button",value:"Log in",disabled:c}),n&&r.a.createElement("p",null,n.message))))}}]),t}(n.Component),q=a(37),Q=Object(q.a)(N.e,h)($);function Y(){return r.a.createElement("div",null,r.a.createElement(Q,null))}var Z=h(function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.firebase.doSignOut(),this.props.history.push(_)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null)}}]),t}(n.Component));function ee(e){return r.a.createElement("div",{className:"breadcrumbs"},e.links.map((function(t,a){return r.a.createElement(r.a.Fragment,{key:a},r.a.createElement("span",{className:"breadcrumbs__item"},t),a<e.links.length-1?r.a.createElement("span",{className:"breadcrumbs__arrow"},">"):"")}),""))}function te(){var e=window.location.href.split("/").pop();return r.a.createElement("div",{className:"category-page"},r.a.createElement(y,null),r.a.createElement(ee,{links:["Home",e]}),r.a.createElement(P,{className:"category-page__title",text:"Culture"}),r.a.createElement(W,{className:"category-page__stories",number:22}))}var ae=function(){return[{name:"About",link:_},{name:"Admin",link:"/login"},{name:"Privacy and Policity",link:_},{name:"Terms and Conditions",link:_},{name:"Contact",link:_}]},ne=function(){return[{name:"About",link:_},{name:"Admin",link:"/login"},{name:"Log out",link:"/logout"},{name:"Contact",link:_}]},re=h(function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={authUser:null,isMobileMenuOpen:!1},a.toggleMenu=function(){a.setState({isMobileMenuOpen:!a.state.isMobileMenuOpen})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.auth.onAuthStateChanged((function(t){t?e.setState({authUser:t}):e.setState({authUser:null})}))}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){var e=this.state.isMobileMenuOpen?"mobile-opened":"mobile-closed",t=this.state.isMobileMenuOpen?"hamburger-menu--open":"";return r.a.createElement("div",{className:"App"},r.a.createElement(b.a,{basename:"/ClearNews"},r.a.createElement("div",{className:"hamburger-menu ".concat(t),onClick:this.toggleMenu},r.a.createElement("i",{className:"fas fa-bars"})),r.a.createElement("div",{className:"header-nav-wrapper ".concat(e)},r.a.createElement(j,{links:this.state.authUser?ne():ae()}),r.a.createElement(y,null),r.a.createElement(A,null)),r.a.createElement(N.a,{exact:!0,path:_,component:V}),r.a.createElement(N.a,{exact:!0,path:"/login",component:Y}),r.a.createElement(N.a,{exact:!0,path:"/logout",component:Z}),r.a.createElement(N.a,{path:k,component:te}),r.a.createElement(S,{links:this.state.authUser?ne():ae()})))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(d.Provider,{value:new g},r.a.createElement(re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[38,1,2]]]);
//# sourceMappingURL=main.550c4928.chunk.js.map